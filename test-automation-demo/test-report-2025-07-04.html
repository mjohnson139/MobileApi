<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mobile API Control Pattern - Test Report</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 1200px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        h1 { color: #333; border-bottom: 3px solid #4CAF50; padding-bottom: 10px; }
        h2 { color: #555; margin-top: 30px; }
        .summary { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 20px 0; }
        .metric { background: #f8f9fa; padding: 15px; border-radius: 6px; text-align: center; border-left: 4px solid #4CAF50; }
        .metric.error { border-left-color: #f44336; }
        .metric h3 { margin: 0 0 10px 0; color: #666; font-size: 14px; }
        .metric .value { font-size: 24px; font-weight: bold; color: #333; }
        .test-result { margin: 20px 0; padding: 15px; border: 1px solid #ddd; border-radius: 6px; }
        .test-result.success { border-left: 4px solid #4CAF50; background: #f8fff8; }
        .test-result.error { border-left: 4px solid #f44336; background: #fff8f8; }
        .test-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .test-title { font-weight: bold; color: #333; }
        .test-status { padding: 4px 8px; border-radius: 4px; color: white; font-size: 12px; }
        .status-success { background: #4CAF50; }
        .status-error { background: #f44336; }
        .test-details { font-size: 14px; color: #666; }
        .request-data, .response-data { background: #f5f5f5; padding: 10px; border-radius: 4px; margin: 10px 0; font-family: monospace; font-size: 12px; overflow-x: auto; }
        .timestamp { color: #999; font-size: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸš€ Mobile API Control Pattern - Test Report</h1>
        
        <div class="summary">
            <div class="metric">
                <h3>Total Tests</h3>
                <div class="value">10</div>
            </div>
            <div class="metric">
                <h3>Successful</h3>
                <div class="value">8</div>
            </div>
            <div class="metric error">
                <h3>Failed</h3>
                <div class="value">2</div>
            </div>
            <div class="metric">
                <h3>Success Rate</h3>
                <div class="value">80.0%</div>
            </div>
            <div class="metric">
                <h3>Avg Response Time</h3>
                <div class="value">3ms</div>
            </div>
            <div class="metric">
                <h3>Total Duration</h3>
                <div class="value">0.1s</div>
            </div>
        </div>
        
        <h2>ðŸ“‹ Test Execution Timeline</h2>
        <p><strong>Started:</strong> 2025-07-04T15:59:52.701Z</p>
        <p><strong>Completed:</strong> 2025-07-04T15:59:52.788Z</p>
        
        <h2>ðŸ§ª Test Results</h2>
        
            <div class="test-result success">
                <div class="test-header">
                    <div class="test-title">1. 01_authentication_login</div>
                    <div class="test-status status-success">
                        PASS
                    </div>
                </div>
                <div class="test-details">
                    <strong>POST</strong> /auth/login 
                    â†’ <strong>200</strong> (12ms)
                    <div class="timestamp">2025-07-04T15:59:52.739Z</div>
                </div>
                
                    <div class="request-data">
                        <strong>Request:</strong><br>
                        {
  "username": "api_user",
  "password": "mobile_api_password"
}
                    </div>
                
                <div class="response-data">
                    <strong>Response:</strong><br>
                    {
  "success": true,
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VybmFtZSI6ImFwaV91c2VyIiwiZXhwIjoxNzUxNjQ4MzkyLCJpYXQiOjE3NTE2NDQ3OTJ9.J5_bRe7bU9OFzNb5V1HiUmUKKXi4QorGn7jZYGIVon4",
  "expires_in": 3600,
  "user": {
    "username": "api_user"
  }
}
                </div>
            </div>
        
            <div class="test-result success">
                <div class="test-header">
                    <div class="test-title">2. 02_living_room_light_on</div>
                    <div class="test-status status-success">
                        PASS
                    </div>
                </div>
                <div class="test-details">
                    <strong>POST</strong> /api/state 
                    â†’ <strong>200</strong> (3ms)
                    <div class="timestamp">2025-07-04T15:59:52.750Z</div>
                </div>
                
                    <div class="request-data">
                        <strong>Request:</strong><br>
                        {
  "path": "ui.controls.living_room_light.state",
  "value": "on"
}
                    </div>
                
                <div class="response-data">
                    <strong>Response:</strong><br>
                    {
  "success": true,
  "path": "ui.controls.living_room_light.state",
  "value": "on",
  "message": "State updated successfully"
}
                </div>
            </div>
        
            <div class="test-result success">
                <div class="test-header">
                    <div class="test-title">3. 02_living_room_light_brightness_75</div>
                    <div class="test-status status-success">
                        PASS
                    </div>
                </div>
                <div class="test-details">
                    <strong>POST</strong> /api/state 
                    â†’ <strong>200</strong> (2ms)
                    <div class="timestamp">2025-07-04T15:59:52.754Z</div>
                </div>
                
                    <div class="request-data">
                        <strong>Request:</strong><br>
                        {
  "path": "ui.controls.living_room_light.brightness",
  "value": 75
}
                    </div>
                
                <div class="response-data">
                    <strong>Response:</strong><br>
                    {
  "success": true,
  "path": "ui.controls.living_room_light.brightness",
  "value": 75,
  "message": "State updated successfully"
}
                </div>
            </div>
        
            <div class="test-result success">
                <div class="test-header">
                    <div class="test-title">4. 02_living_room_light_blue</div>
                    <div class="test-status status-success">
                        PASS
                    </div>
                </div>
                <div class="test-details">
                    <strong>POST</strong> /api/state 
                    â†’ <strong>200</strong> (2ms)
                    <div class="timestamp">2025-07-04T15:59:52.759Z</div>
                </div>
                
                    <div class="request-data">
                        <strong>Request:</strong><br>
                        {
  "path": "ui.controls.living_room_light.color",
  "value": "#0000FF"
}
                    </div>
                
                <div class="response-data">
                    <strong>Response:</strong><br>
                    {
  "success": true,
  "path": "ui.controls.living_room_light.color",
  "value": "#0000FF",
  "message": "State updated successfully"
}
                </div>
            </div>
        
            <div class="test-result success">
                <div class="test-header">
                    <div class="test-title">5. 03_activate_movie_night_scene</div>
                    <div class="test-status status-success">
                        PASS
                    </div>
                </div>
                <div class="test-details">
                    <strong>POST</strong> /api/actions/trigger 
                    â†’ <strong>200</strong> (3ms)
                    <div class="timestamp">2025-07-04T15:59:52.767Z</div>
                </div>
                
                    <div class="request-data">
                        <strong>Request:</strong><br>
                        {
  "target": "movie-night-scene",
  "payload": {
    "sceneId": "movie-night"
  }
}
                    </div>
                
                <div class="response-data">
                    <strong>Response:</strong><br>
                    {
  "success": true,
  "action": {
    "type": "trigger_scene",
    "target": "movie-night-scene",
    "payload": {
      "sceneId": "movie-night"
    }
  },
  "current_scene": "movie-night"
}
                </div>
            </div>
        
            <div class="test-result success">
                <div class="test-header">
                    <div class="test-title">6. 03_activate_bright_scene</div>
                    <div class="test-status status-success">
                        PASS
                    </div>
                </div>
                <div class="test-details">
                    <strong>POST</strong> /api/actions/trigger 
                    â†’ <strong>200</strong> (3ms)
                    <div class="timestamp">2025-07-04T15:59:52.772Z</div>
                </div>
                
                    <div class="request-data">
                        <strong>Request:</strong><br>
                        {
  "target": "bright-scene",
  "payload": {
    "sceneId": "bright"
  }
}
                    </div>
                
                <div class="response-data">
                    <strong>Response:</strong><br>
                    {
  "success": true,
  "action": {
    "type": "trigger_scene",
    "target": "bright-scene",
    "payload": {
      "sceneId": "bright"
    }
  },
  "current_scene": "bright"
}
                </div>
            </div>
        
            <div class="test-result error">
                <div class="test-header">
                    <div class="test-title">7. 04_turn_on_all_lights</div>
                    <div class="test-status status-error">
                        FAIL
                    </div>
                </div>
                <div class="test-details">
                    <strong>POST</strong> /api/actions/toggle 
                    â†’ <strong>400</strong> (2ms)
                    <div class="timestamp">2025-07-04T15:59:52.779Z</div>
                </div>
                
                    <div class="request-data">
                        <strong>Request:</strong><br>
                        {
  "target": "all_lights",
  "payload": {
    "state": "on"
  }
}
                    </div>
                
                <div class="response-data">
                    <strong>Response:</strong><br>
                    {
  "success": false,
  "error": "Invalid target device"
}
                </div>
            </div>
        
            <div class="test-result error">
                <div class="test-header">
                    <div class="test-title">8. 04_turn_off_all_lights</div>
                    <div class="test-status status-error">
                        FAIL
                    </div>
                </div>
                <div class="test-details">
                    <strong>POST</strong> /api/actions/toggle 
                    â†’ <strong>400</strong> (1ms)
                    <div class="timestamp">2025-07-04T15:59:52.782Z</div>
                </div>
                
                    <div class="request-data">
                        <strong>Request:</strong><br>
                        {
  "target": "all_lights",
  "payload": {
    "state": "off"
  }
}
                    </div>
                
                <div class="response-data">
                    <strong>Response:</strong><br>
                    {
  "success": false,
  "error": "Invalid target device"
}
                </div>
            </div>
        
            <div class="test-result success">
                <div class="test-header">
                    <div class="test-title">9. 05_health_check</div>
                    <div class="test-status status-success">
                        PASS
                    </div>
                </div>
                <div class="test-details">
                    <strong>GET</strong> /health 
                    â†’ <strong>200</strong> (1ms)
                    <div class="timestamp">2025-07-04T15:59:52.786Z</div>
                </div>
                
                <div class="response-data">
                    <strong>Response:</strong><br>
                    {
  "status": "healthy",
  "uptime": 17849.896739,
  "timestamp": "2025-07-04T15:59:52.785Z"
}
                </div>
            </div>
        
            <div class="test-result success">
                <div class="test-header">
                    <div class="test-title">10. 05_get_current_state</div>
                    <div class="test-status status-success">
                        PASS
                    </div>
                </div>
                <div class="test-details">
                    <strong>GET</strong> /api/state 
                    â†’ <strong>200</strong> (1ms)
                    <div class="timestamp">2025-07-04T15:59:52.787Z</div>
                </div>
                
                <div class="response-data">
                    <strong>Response:</strong><br>
                    {
  "success": true,
  "ui": {
    "controls": {
      "living_room_light": {
        "state": "on",
        "brightness": 100,
        "color": "#FFFFFF"
      },
      "bedroom_light": {
        "state": "on",
        "brightness": 100,
        "color": "#FFFFFF"
      },
      "kitchen_light": {
        "state": "on",
        "brightness": 100,
        "color": "#FFFFFF"
      }
    },
    "scenes": {
      "current": "bright",
      "available": [
        "normal",
        "movie-night",
        "bright",
        "evening"
      ]
    }
  }
}
                </div>
            </div>
        
        
        <h2>ðŸ“¸ Screenshots</h2>
        <p>Screenshots are saved in: <code>/home/runner/work/MobileApi/MobileApi/test-screenshots</code></p>
        
        <h2>ðŸ”§ Configuration</h2>
        <div class="request-data">
API Base URL: http://localhost:8080
Username: api_user
Screenshot Format: png
Quality: 0.9
Timeout: 30000ms
        </div>
        
        <footer style="margin-top: 40px; padding-top: 20px; border-top: 1px solid #eee; color: #666; text-align: center;">
            <p>Generated by Mobile API Control Pattern Test Automation</p>
            <p>2025-07-04T15:59:52.788Z</p>
        </footer>
    </div>
</body>
</html>